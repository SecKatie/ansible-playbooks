---
# Paperless-ngx secrets
apiVersion: v1
kind: Secret
metadata:
  name: paperless-secrets
  namespace: {{ paperless_namespace }}
type: Opaque
stringData:
  postgres-user: "{{ paperless_secrets.postgres_user }}"
  postgres-password: "{{ paperless_secrets.postgres_password }}"
  admin-user: "{{ paperless_secrets.admin_user }}"
  admin-password: "{{ paperless_secrets.admin_password }}"
  admin-email: "{{ paperless_secrets.admin_email }}"
  secret-key: "{{ paperless_secrets.secret_key }}"
{% if paperless_secrets.proton_email is defined and paperless_secrets.proton_email | length > 0 %}
  proton-email: "{{ paperless_secrets.proton_email }}"
  proton-bridge-password: "{{ paperless_secrets.proton_bridge_password }}"
{% endif %}
{% if paperless_secrets.tunnel_credentials is defined and paperless_secrets.tunnel_credentials | length > 0 %}
---
# Cloudflare Tunnel credentials
apiVersion: v1
kind: Secret
metadata:
  name: paperless-tunnel-credentials
  namespace: {{ paperless_namespace }}
type: Opaque
stringData:
  credentials.json: |
    {{ paperless_secrets.tunnel_credentials | indent(4) }}
{% endif %}
