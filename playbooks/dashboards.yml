---
# =============================================================================
# Dashboard Applications Playbook
# =============================================================================
# This playbook deploys dashboard and management UI applications:
#   - Kubernetes Dashboard (cluster management UI)
#   - Headlamp (modern Kubernetes web UI)
#   - Homepage (application dashboard and launcher)
#   - Personal Site (static landing page at mulliken.net)
#
# Prerequisites:
#   - vars/homepage_secrets.yml must exist and be encrypted with ansible-vault
#
# Usage:
#   ansible-playbook -i inventory/hosts.yml playbooks/dashboards.yml --ask-vault-pass
#
#   # Deploy only Kubernetes Dashboard
#   ansible-playbook -i inventory/hosts.yml playbooks/dashboards.yml --tags k8s_dashboard
#
#   # Deploy only Headlamp
#   ansible-playbook -i inventory/hosts.yml playbooks/dashboards.yml --tags headlamp
#
#   # Deploy only Homepage
#   ansible-playbook -i inventory/hosts.yml playbooks/dashboards.yml --tags homepage --ask-vault-pass
#
#   # Deploy only Personal Site
#   ansible-playbook -i inventory/hosts.yml playbooks/dashboards.yml --tags personal-site
#
# Tags:
#   - dashboards: All dashboard applications
#   - k8s_dashboard: Kubernetes Dashboard
#   - kubernetes_dashboard: Kubernetes Dashboard (alias)
#   - headlamp: Headlamp Kubernetes web UI
#   - homepage: Homepage application launcher
#   - personal-site: Personal landing page (mulliken.net)
#   - personal: Personal landing page (alias)
# =============================================================================

- name: Deploy dashboard applications
  hosts: localhost
  connection: local
  gather_facts: false
  tags: [dashboards]
  vars_files:
    - vars/homepage_secrets.yml
  roles:
    - role: install_k8s_dashboard
      tags: [k8s_dashboard, kubernetes_dashboard]

    - role: install_headlamp
      tags: [headlamp]

    - role: install_homepage
      tags: [homepage]

    - role: install_personal_site
      tags: [personal-site, personal]
